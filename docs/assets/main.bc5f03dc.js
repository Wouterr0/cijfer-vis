var X=Object.defineProperty,Y=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var U=(s,t,e)=>t in s?X(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,w=(s,t)=>{for(var e in t||(t={}))ee.call(t,e)&&U(s,e,t[e]);if(D)for(var e of D(t))te.call(t,e)&&U(s,e,t[e]);return s},E=(s,t)=>Y(s,Z(t));import{_ as p,m as se,a as I,n as R,E as ne,p as re,l as O,s as K,g as le,b as oe,c as ie,d as ae,r as ue}from"./Errors.6ba8e7cf.js";import{c,o as i,m as $,w as A,v as S,a as u,t as d,F as v,r as j,b as g,d as y,e as ce,f,g as m,h as F,i as de,j as T,n as G,k as x,l as B,p as _e,q as k,s as b,u as me,x as ge,y as he,z as pe}from"./vendor.d204d343.js";const fe={name:"ToggleButton",props:{values:Object,modelValue:String},computed:{UIValue(){return this.values[this.modelValue]}},methods:{nextValue(){const s=Object.keys(this.values),t=s[(s.indexOf(this.modelValue)+1)%s.length];this.$emit("update:modelValue",t)}}},ve=["value"];function ye(s,t,e,l,o,n){return i(),c("input",{type:"button",value:n.UIValue,onClick:t[0]||(t[0]=(...r)=>n.nextValue&&n.nextValue(...r))},null,8,ve)}var ke=p(fe,[["render",ye]]);const be={name:"Optional",props:{assignment:Object},computed:E(w({},$(["isOptional"])),{optional:{get(){return this.$store.getters.isOptional(this.assignment)},set(s){this.$store.commit("setOptional",{assignment:this.assignment,turnedOn:s})}}})},we=["id"],$e=["for"],Re=u("br",null,null,-1);function Ee(s,t,e,l,o,n){return i(),c(v,null,[A(u("input",{type:"checkbox",id:e.assignment.id,"onUpdate:modelValue":t[0]||(t[0]=r=>n.optional=r)},null,8,we),[[S,n.optional]]),u("label",{for:e.assignment.id},d(e.assignment.shortname),9,$e),Re],64)}var Ce=p(be,[["render",Ee]]);const Ae={name:"Optionalas",components:{Optional:Ce},computed:{optionals(){return this.$store.getters.allOptional}}};function je(s,t,e,l,o,n){const r=g("Optional");return i(!0),c(v,null,j(n.optionals,a=>(i(),y(r,{key:a.id,assignment:a},null,8,["assignment"]))),128)}var Oe=p(Ae,[["render",je]]);const Se={name:"Replacing",props:{replaces:Object,replacing:Object},computed:E(w({},$(["isReplacing"])),{replacer:{get(){return this.$store.getters.isReplacing(this.replacing,this.replaces)},set(s){this.$store.commit("setReplacer",{replaces:this.replaces,replacing:this.replacing,turnedOn:s})}}})},xe=["id"],Ve=["for"],Pe=u("br",null,null,-1);function Be(s,t,e,l,o,n){return i(),c(v,null,[A(u("input",{type:"checkbox",id:e.replaces.id+"-"+e.replacing.id,"onUpdate:modelValue":t[0]||(t[0]=r=>n.replacer=r)},null,8,xe),[[S,n.replacer]]),u("label",{for:e.replaces.id+"-"+e.replacing.id},d(e.replacing.shortname),9,Ve),Pe],64)}var Ie=p(Se,[["render",Be]]);const Te={name:"Replacings",components:{Replacing:Ie},computed:{replacers(){return this.$store.getters.allReplacing}}};function Me(s,t,e,l,o,n){const r=g("Replacing");return i(!0),c(v,null,j(n.replacers,a=>(i(),y(r,{key:a.replaces.id+"-"+a.replacing.id,replaces:a.replaces,replacing:a.replacing},null,8,["replaces","replacing"]))),128)}var Le=p(Te,[["render",Me]]);const Ne={name:"Settings",components:{ToggleButton:ke,Optionals:Oe,Replacings:Le},computed:E(w({},$(["showResults"])),{mode:{get(){return this.$store.state.mode},set(s){this.$store.commit("setMode",s)}},scale:{get(){return this.$store.state.settings.scale},set(s){this.$store.commit("setScale",Number(s))}},round:{get(){return this.$store.state.settings.round},set(s){this.$store.commit("setRound",s)}},showCE:{get(){return this.$store.state.settings.showCE},set(s){this.$store.commit("setShowCE",s)}}}),methods:E(w({},ce(["setRound"])),{clearAll(){confirm("Weet je zeker dat je alle resultaten wilt wissen?")&&this.$store.commit("clearAll")}}),created(){this.modi=se}},We={class:"settings"},De=u("hr",null,null,-1),Ue=u("hr",null,null,-1),Ke=u("hr",null,null,-1),He=u("label",{for:"show-ce",title:"Toon centrale examens"},"Centrale Examens",-1),ze=u("hr",{class:"left"},null,-1),qe=u("input",{placeholder:"Importeer resultaten",title:"Plak hier je magister resultaten"},null,-1),Fe=u("a",{class:"import-btn",href:"import.html",title:"Voor als je een beetje hulp nodig hebt bij het importeren van je magister cijfers"}," help me ",-1),Ge=u("hr",null,null,-1),Je=["min","max","step"],Qe=u("datalist",{id:"tickmarks"},[u("option",{value:"1.0"})],-1);function Xe(s,t,e,l,o,n){const r=g("ToggleButton"),a=g("Optionals"),_=g("Replacings");return i(),c("div",We,[f(r,{values:s.modi,modelValue:n.mode,"onUpdate:modelValue":t[0]||(t[0]=h=>n.mode=h),style:{"font-weight":"700"}},null,8,["values","modelValue"]),s.showResults?(i(),c("input",{key:0,type:"button",value:"ALLE RESULTATEN WISSEN",onClick:t[1]||(t[1]=(...h)=>n.clearAll&&n.clearAll(...h))})):m("",!0),De,f(a),Ue,f(_),Ke,A(u("input",{type:"checkbox",id:"show-ce","onUpdate:modelValue":t[2]||(t[2]=h=>n.showCE=h)},null,512),[[S,n.showCE]]),He,ze,qe,Fe,Ge,A(u("input",{type:"range","onUpdate:modelValue":t[3]||(t[3]=h=>n.scale=h),min:.7,max:1.3,step:.05,list:"tickmarks",title:"Stel de grootte van de tabel in"},null,8,Je),[[F,n.scale]]),Qe,A(u("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=h=>n.round=h),title:"Schakel tussen ronde en rechthoekige opdrachten"},null,512),[[S,n.round]])])}var Ye=p(Ne,[["render",Xe]]);const Ze={name:"Header",props:{showResults:Boolean,showCE:Boolean}},et=u("th",{class:"small-row"},"VAK",-1),tt=u("th",null,"SE OPDRACHTEN",-1),st={key:0,class:"small-row"},nt={key:1},rt={key:2,class:"small-row"},lt={key:3,class:"small-row"};function ot(s,t,e,l,o,n){return i(),c(v,null,[et,tt,e.showResults?(i(),c("th",st,"SE")):m("",!0),e.showCE?(i(),c("th",nt,"Centraal Examen")):m("",!0),e.showResults&&e.showCE?(i(),c("th",rt,"CE")):m("",!0),e.showResults?(i(),c("th",lt,"Eind.")):m("",!0)],64)}var it=p(Ze,[["render",ot]]);const at="modulepreload",H={},ut="/",ct=function(t,e){return!e||e.length===0?t():Promise.all(e.map(l=>{if(l=`${ut}${l}`,l in H)return;H[l]=!0;const o=l.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${n}`))return;const r=document.createElement("link");if(r.rel=o?"stylesheet":at,o||(r.as="script",r.crossOrigin=""),r.href=l,document.head.appendChild(r),o)return new Promise((a,_)=>{r.addEventListener("load",a),r.addEventListener("error",_)})})).then(()=>t())},dt={name:"AssignmentBlock",props:{assignment:Object,widthPercentage:Number,hoveredId:String,clickedId:String},components:{AssignmentBlocks:de(()=>ct(()=>Promise.resolve().then(function(){return ft}),void 0))},computed:E(w({},T(["hovered","clicked"])),{background(){const s=this.$store.state.results[this.assignment.id],t=this.assignment.type;if(this.$store.getters.showResults&&s!==void 0){const e=(this.$store.getters.result(this.assignment)-1)/9*100;return`border-box linear-gradient(0deg,                         var(--${t}-color-dark) 0%,                         var(--${t}-color-dark) ${e}%,                         var(--${t}-color) ${e}%,                         var(--${t}-color) 100%)`}else return`var(--${t}-color)`},sub_assignments(){return I(this.assignment)}}),methods:{onOver(){this.$store.commit("hover",this.assignment)},onLeave(){this.$store.commit("hover",null)},onClick(){this.$store.commit("click",this.assignment)}}};function _t(s,t,e,l,o,n){const r=g("AssignmentBlocks");return i(),c("div",{class:G(["assignment-block",s.hovered&&s.hovered.id===e.assignment.id?"hovered-block":null,s.clicked&&s.clicked.id===e.assignment.id?"selected-block":null]),style:x({width:e.widthPercentage+"%",background:n.background}),onMouseover:t[0]||(t[0]=B(a=>n.onOver(),["stop"])),onMouseout:t[1]||(t[1]=B(a=>n.onLeave(),["stop"])),onClick:t[2]||(t[2]=B(a=>n.onClick(),["stop"]))},[n.sub_assignments?(i(),y(r,{key:0,assignments:n.sub_assignments},null,8,["assignments"])):m("",!0)],38)}var mt=p(dt,[["render",_t]]);const gt={name:"AssignmentBlocks",props:{assignments:Array},components:{AssignmentBlock:mt},computed:{totalSubweight(){let s=0;for(const t of this.assignments)s+=t.weight;return s}}},ht={class:"assignment-block group-block"};function pt(s,t,e,l,o,n){const r=g("AssignmentBlock");return i(),c("div",ht,[(i(!0),c(v,null,j(e.assignments,a=>(i(),y(r,{key:a.id,assignment:a,widthPercentage:a.weight/n.totalSubweight*100},null,8,["assignment","widthPercentage"]))),128))])}var J=p(gt,[["render",pt]]),ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:J});const vt={name:"Row",props:{grade:Object,showResults:Boolean,showCE:Boolean},components:{AssignmentBlocks:J},computed:{se_assignments(){return this.grade.type==="VAK"?this.grade.se_assignments:this.grade.assignments},ce_assignments(){return this.grade.type==="VAK"?this.grade.ce_assignments:[]},result(){return R(this.$store.getters.result(this.grade,!0),0)},unRoundedResult(){return R(this.$store.getters.result(this.grade,!1))},SEresult(){return R(this.$store.getters.result(this.grade,!0,!0,!1),this.grade.ce_assignments?1:0)},unRoundedSEresult(){return R(this.$store.getters.result(this.grade,!1,!0,!1))},CEresult(){return this.grade.type!=="VAK"||!this.grade.ce_assignments?"nvt":R(this.$store.getters.result(this.grade,!0,!1,!0),1)},unRoundedCEresult(){return this.grade.type!=="VAK"||!this.grade.ce_assignments?null:R(this.$store.getters.result(this.grade,!1,!1,!0))}}},yt={class:"grade-row"},kt={class:"blocks-column"},bt=["title"],wt={key:1,class:"blocks-column"},$t=["title"],Rt=["title"];function Et(s,t,e,l,o,n){const r=g("AssignmentBlocks");return i(),c("tr",yt,[u("td",null,d(e.grade.shortname),1),u("td",kt,[f(r,{assignments:n.se_assignments},null,8,["assignments"])]),e.showResults?(i(),c("td",{key:0,title:n.unRoundedSEresult},d(n.SEresult),9,bt)):m("",!0),e.showCE?(i(),c("td",wt,[n.ce_assignments?(i(),y(r,{key:0,assignments:n.ce_assignments},null,8,["assignments"])):m("",!0)])):m("",!0),e.showResults&&e.showCE?(i(),c("td",{key:2,title:n.unRoundedCEresult},d(n.CEresult),9,$t)):m("",!0),e.showResults?(i(),c("td",{key:3,title:n.unRoundedResult},d(n.result),9,Rt)):m("",!0)])}var Ct=p(vt,[["render",Et]]);const At={name:"TotalRow",props:{showCE:Boolean},computed:$(["min","max","median","avg"]),methods:{nl_num:R}},jt=u("tr",null,[u("td",{colspan:"6"},[u("hr",{class:"tot-sep"})])],-1),Ot=u("td",{colspan:"2"},[u("div",{style:{display:"flex"}},[u("div",null,"Totaal:")])],-1),St=["title"],xt={key:0},Vt=["title"],Pt=["title"];function Bt(s,t,e,l,o,n){return i(),c(v,null,[jt,u("tr",null,[Ot,u("td",{title:n.nl_num(s.avg(!1,!0,!1))},d(n.nl_num(s.avg(!0,!0,!1),1)),9,St),e.showCE?(i(),c("td",xt)):m("",!0),e.showCE?(i(),c("td",{key:1,title:n.nl_num(s.avg(!1,!1,!0))},d(n.nl_num(s.avg(!0,!1,!0),1)),9,Vt)):m("",!0),u("td",{title:n.nl_num(s.avg(!1))},d(n.nl_num(s.avg(!0),1)),9,Pt)])],64)}var It=p(At,[["render",Bt]]);const Tt={name:"Overview",components:{Header:it,Row:Ct,TotalRow:It},computed:w(w({},$(["subjects","showResults"])),T({showCE:s=>s.settings.showCE}))},Mt={class:"overview"};function Lt(s,t,e,l,o,n){const r=g("Header"),a=g("Row"),_=g("TotalRow");return i(),c("table",Mt,[f(r,{showCE:s.showCE,showResults:s.showResults},null,8,["showCE","showResults"]),(i(!0),c(v,null,j(s.subjects,h=>(i(),y(a,{key:h.id,grade:h,showCE:s.showCE,showResults:s.showResults},null,8,["grade","showCE","showResults"]))),128)),s.showResults?(i(),y(_,{key:0,showCE:s.showCE},null,8,["showCE"])):m("",!0)])}var Nt=p(Tt,[["render",Lt]]);const Wt={props:{},computed:$(["types"])},Dt=u("div",{class:"heading"},"LEGENDA",-1);function Ut(s,t,e,l,o,n){return i(),c(v,null,[Dt,(i(!0),c(v,null,j(s.types,r=>(i(),c("div",{key:r,class:"legend-item",style:x({background:`var(--${r}-color)`})},d(r),5))),128))],64)}var Kt=p(Wt,[["render",Ut]]);const Ht={name:"AssignmentProp",props:{key_:String,style:Object},methods:{toString}},zt={class:"info-key"},qt=u("br",null,null,-1);function Ft(s,t,e,l,o,n){return i(),c(v,null,[u("span",zt,d(e.key_)+": ",1),u("span",{class:"info-value",style:x(e.style)},[_e(s.$slots,"default")],4),qt],64)}var Gt=p(Ht,[["render",Ft]]);const Jt={props:{assignment:Object},computed:$(["subjectWeight","totalWeight"]),methods:{nl_num:R},components:{AssignmentProp:Gt}},Qt=["href"];function Xt(s,t,e,l,o,n){const r=g("AssignmentProp");return i(),c(v,null,[f(r,{key_:"soort",style:x({background:`var(--${e.assignment.type}-color)`,padding:"0 .25em"})},{default:k(()=>[b(d(e.assignment.type),1)]),_:1},8,["style"]),["VAK","COMB"].includes(e.assignment.type)?(i(),y(r,{key:0,key_:"naam"},{default:k(()=>[b(d(e.assignment.fullname),1)]),_:1})):m("",!0),f(r,{key_:"weging per cijfer"},{default:k(()=>[b(d(n.nl_num(s.subjectWeight(e.assignment)*100,void 0,4)+"%"),1)]),_:1}),f(r,{key_:"weging diplomacijfer"},{default:k(()=>[b(d(n.nl_num(s.totalWeight(e.assignment)*100,void 0,4)+"%"),1)]),_:1}),e.assignment.weight?(i(),y(r,{key:1,key_:"weging"},{default:k(()=>[b(d(n.nl_num(e.assignment.weight)),1)]),_:1})):m("",!0),["PO","MET","SET"].includes(e.assignment.type)?(i(),c(v,{key:2},[f(r,{key_:"leerjaar"},{default:k(()=>[b(d(e.assignment.year),1)]),_:1}),f(r,{key_:"periode"},{default:k(()=>[b(d(e.assignment.period),1)]),_:1}),e.assignment.magister?(i(),y(r,{key:0,key_:"magister"},{default:k(()=>[b(d(e.assignment.magister),1)]),_:1})):m("",!0),"domains"in e.assignment?(i(),y(r,{key:1,key_:"domeinen"},{default:k(()=>[b(d(e.assignment.domains.join(", ")),1)]),_:1})):m("",!0),f(r,{key_:"beschrijving",style:{whiteSpace:"pre-wrap"}},{default:k(()=>[b(d(e.assignment.description),1)]),_:1})],64)):m("",!0),e.assignment.link?(i(),y(r,{key:3,key_:"link"},{default:k(()=>[u("a",{href:e.assignment.link,target:"_blank"},d(e.assignment.link),9,Qt)]),_:1})):m("",!0)],64)}var Yt=p(Jt,[["render",Xt]]);const Zt={name:"ResultInput",props:{assignment:Object},data(){return{result:void 0}},computed:{subAssignmentResult(){return this.canInput?null:this.$store.getters.result(this.assignment,!1)},assignmentResult(){return this.$store.getters.result(this.assignment)},canInput(){return["SET","MET","PO","CSE"].includes(this.assignment.type)}},methods:{clearResult(){this.$store.commit("setResult",{assignment:this.assignment})},submitResult(){this.$store.commit("setResult",{assignment:this.assignment,result:this.result})},updateResult(){this.result=this.$store.getters.result(this.assignment,!0)}},watch:{assignmentResult(){this.updateResult()}},created(){this.updateResult()}},es=b(" Resultaat: "),ts=u("br",null,null,-1),ss=["disabled","title"],ns=["disabled"],rs=["disabled"];function ls(s,t,e,l,o,n){return i(),c("label",null,[es,ts,A(u("input",{type:"number",min:"1",step:"0.1","onUpdate:modelValue":t[0]||(t[0]=r=>o.result=r),onKeyup:t[1]||(t[1]=me((...r)=>n.submitResult&&n.submitResult(...r),["enter"])),disabled:!n.canInput,title:n.subAssignmentResult,required:""},null,40,ss),[[F,o.result]]),u("input",{type:"button",value:"invullen",disabled:!n.canInput,onClick:t[2]||(t[2]=(...r)=>n.submitResult&&n.submitResult(...r))},null,8,ns),u("input",{type:"button",value:"wissen",disabled:!n.canInput,onClick:t[3]||(t[3]=(...r)=>n.clearResult&&n.clearResult(...r))},null,8,rs)])}var os=p(Zt,[["render",ls]]);const is={name:"Info",props:{assignment:Object},components:{Legend:Kt,AssignmentProps:Yt,ResultInput:os},computed:$(["showResults"])},as={key:1},us={key:0,class:"result-input"},cs=u("br",null,null,-1);function ds(s,t,e,l,o,n){const r=g("Legend"),a=g("AssignmentProps"),_=g("ResultInput");return i(),c("div",{class:G(["info",e.assignment?"info-props":"info-legend"])},[e.assignment?(i(),c("div",as,[f(a,{assignment:e.assignment},null,8,["assignment"]),s.showResults?(i(),c("div",us,[cs,f(_,{assignment:e.assignment},null,8,["assignment"])])):m("",!0)])):(i(),y(r,{key:0}))],2)}var _s=p(is,[["render",ds]]);const ms={name:"Content",components:{Overview:Nt,Info:_s},computed:$(["focussed"])},gs={class:"content"};function hs(s,t,e,l,o,n){const r=g("Overview"),a=g("Info");return i(),c("div",gs,[f(r),f(a,{assignment:s.focussed},null,8,["assignment"])])}var ps=p(ms,[["render",hs]]);const M={name:"App",components:{Settings:Ye,Content:ps,Errors:ne},computed:E(w({},T(["settings","results"])),{roundness(){return this.$store.state.settings.round?"2em":"0"}}),data(){return{errors:[]}},methods:{onPaste(s){console.log("onPaste",s),s.preventDefault();try{let t=re(s.clipboardData.getData("text/html"),l=>{this.errors.push(l)}),e=w({},O("results",{}));for(const l of t)e[l.assignment.id]=l.score;this.$store.state.results=O("results",e)}catch(t){console.error(t),this.errors.push(t);return}}},watch:{settings:{handler(){K("settings",this.$store.state.settings)},deep:!0},results:{handler(){K("results",this.$store.state.results)},deep:!0}},created(){console.log(this.$store.state),window.gen_id=le},errorCaptured(s,t,e){this.errors.push(s)}},z=()=>{ge(s=>({"20bec446":s.settings.scale,"3b509807":s.roundness}))},q=M.setup;M.setup=q?(s,t)=>(z(),q(s,t)):z;const fs=M;function vs(s,t,e,l,o,n){const r=g("Errors"),a=g("Settings"),_=g("Content");return i(),c(v,null,[f(r,{errors:o.errors},null,8,["errors"]),f(a,{onPaste:n.onPaste},null,8,["onPaste"]),f(_)],64)}var ys=p(fs,[["render",vs]]);const ks=he({state:{diploma:oe(ae),mode:"results",hovered:null,clicked:null,settings:O("settings",{extra:[],replacing:[],showCE:!0,round:!1,scale:1}),results:O("results",{})},getters:{subjects(s){let t=[];for(const e of s.diploma.grades)e.optional&&!s.settings.extra.includes(e.id)||s.settings.replacing.some(l=>l.startsWith(e.id))||e.replaces&&!s.settings.replacing.some(l=>l.endsWith(e.id))||t.push(e);return t},showResults(s){return s.mode==="results"},focussed(s){return s.clicked!==null?s.clicked:s.hovered},types(s,t){const e={};function l(o){o.type in e||(e[o.type]=0),e[o.type]++;const n=I(o);if(n)for(const r of n)l(r)}for(const o of t.subjects){const n=I(o);for(const r of n)l(r)}return new Map([...Object.entries(e)].sort((o,n)=>n[1]-o[1])).keys()},allOptional(s){let t=[];for(const e of s.diploma.grades)e.optional&&t.push(e);return t},allReplacing(s){let t=[];for(const e of s.diploma.grades)e.replaces&&t.push({replaces:ie(e.replaces),replacing:e});return t},isOptional:s=>t=>s.settings.extra.includes(t.id),isReplacing:s=>(t,e)=>s.settings.replacing.includes(e.id+"-"+t.id),result:(s,t)=>(e,l=!0,o=!1,n=!1)=>{function r(h){let C=0,V=0,L;for(const P of h){let N=t.result(P,l);if(N===void 0)continue;const W=P.weight/P.parent.total_subweight;C+=N*W,V+=W}return V>0&&(L=C/V),L}let a,_;if(e.id in s.results)a=s.results[e.id],_=1;else if(e.type==="DIPLOMA")a=r(e.grades),_=0;else if(e.type==="COMB")n||(a=r(e.assignments,l&&e.parent.type==="DIPLOMA"?0:null)),_=0;else if(e.type==="VAK")if(o||n)o&&(_=e.ce_assignments?1:0,a=r(e.se_assignments)),n&&(_=1,a=r(e.ce_assignments));else{_=0;const h=e.se_assignments&&t.result(e,l,!0,!1),C=e.ce_assignments&&t.result(e,l,!1,!0);e.ce_assignments?a=h!==void 0&&C!==void 0?(h+C)/2:h||C:a=h}return e.parent&&e.parent.type==="COMB"&&e.parent.parent.type==="DIPLOMA"&&(_=0),l&&a!==void 0&&(a=ue(a,_)),a},avg:(s,t)=>(e=!1,l=!1,o=!1)=>{let n=0,r=0;for(const a of t.subjects){if(o&&a.ce_assignments===void 0)continue;const _=t.result(a,e,l,o);_&&(n+=_,r++)}if(r){const a=n/r;return e?Math.round((a+Number.EPSILON)*10)/10:a}},min:(s,t)=>(e=!1)=>{let l=1/0;for(const o of t.subjects){const n=t.result(o,e);n<l&&(l=n)}if(l<1/0)return l},max:(s,t)=>(e=!1)=>{let l=-1/0;for(const o of t.subjects){const n=t.result(o,e);n>l&&(l=n)}if(l>-1/0)return l},median:(s,t)=>(e=!1)=>{let l=[];for(const n of t.subjects){const r=t.result(n,e);r&&l.push(r)}if(l.length===0)return;l.sort((n,r)=>n-r);let o=Math.floor(l.length/2);return l.length%2?l[o]:(l[o]+l[o+1])/2},subjectWeight:s=>t=>{if(!t.parent)return;if(t.type==="CSE")return .5;let e=t.weight;do t=t.parent,e/=t.total_subweight*(t.ce_assignments?2:1);while(t.parent.parent);return e},totalWeight:(s,t)=>e=>t.subjectWeight(e)/t.subjects.length},mutations:{setRound(s,t){console.log("round",t),s.settings.round=t},setScale(s,t){console.log("scale",t),s.settings.scale=t},setShowCE(s,t){console.log("show CE",t),s.settings.showCE=t},setMode(s,t){console.log("mode",t),s.mode=t},hover(s,t){s.hovered=t},click(s,t){s.clicked=s.clicked===t?null:t},setOptional(s,{assignment:t,turnedOn:e}){e&&!s.settings.extra.includes(t.id)&&s.settings.extra.push(t.id),e||(s.settings.extra=s.settings.extra.filter(l=>l!==t.id))},setReplacer(s,{replaces:t,replacing:e,turnedOn:l}){let o=t.id+"-"+e.id;l&&!s.settings.replacing.includes(o)&&s.settings.replacing.push(o),l||(s.settings.replacing=s.settings.replacing.filter(n=>n!==o))},setResult(s,{assignment:t,result:e}){s.results[t.id]=e},clearAll(s){s.results={}}}}),Q=pe(ys);Q.use(ks);Q.mount("#app");
