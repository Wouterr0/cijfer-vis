var se=Object.defineProperty,ne=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var z=(e,t,s)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,k=(e,t)=>{for(var s in t||(t={}))ie.call(t,s)&&z(e,s,t[s]);if(H)for(var s of H(t))re.call(t,s)&&z(e,s,t[s]);return e},S=(e,t)=>ne(e,le(t));import{_ as g,m as oe,l as v,n as A,p as ae,a as I,E as ue,b as ce,c as j,s as q,g as de,d as _e,e as me,f as ge,h as he,r as pe}from"./Errors.e714444c.js";import{c,o as a,m as R,w as C,v as O,a as r,t as d,F as y,r as T,b as m,d as b,e as fe,f,g as p,h as Y,n as M,i as ye,j as w,u as Z,k as ve,l as x,p as V,q as P,s as be,x as $,y as ke,z as we,A as $e}from"./vendor.1a217a9c.js";const Re={name:"ToggleButton",props:{values:Object,modelValue:String},computed:{UIValue(){return this.values[this.modelValue]}},methods:{nextValue(){const e=Object.keys(this.values),t=e[(e.indexOf(this.modelValue)+1)%e.length];this.$emit("update:modelValue",t)}}},Ae=["value"];function Se(e,t,s,i,o,n){return a(),c("input",{type:"button",value:n.UIValue,onClick:t[0]||(t[0]=(...l)=>n.nextValue&&n.nextValue(...l))},null,8,Ae)}var Ce=g(Re,[["render",Se]]);const Ee={name:"Optional",props:{assignment:Object},computed:S(k({},R(["isOptional"])),{optional:{get(){return this.$store.getters.isOptional(this.assignment)},set(e){this.$store.commit("setOptional",{assignment:this.assignment,turnedOn:e})}}})},Te=["id"],je=["for"],Oe=r("br",null,null,-1);function xe(e,t,s,i,o,n){return a(),c(y,null,[C(r("input",{type:"checkbox",id:s.assignment.id,"onUpdate:modelValue":t[0]||(t[0]=l=>n.optional=l)},null,8,Te),[[O,n.optional]]),r("label",{for:s.assignment.id},d(s.assignment.shortname),9,je),Oe],64)}var Ve=g(Ee,[["render",xe]]);const Be={name:"Optionals",components:{Optional:Ve},computed:{optionals(){return this.$store.getters.allOptional}}};function Le(e,t,s,i,o,n){const l=m("Optional");return a(!0),c(y,null,T(n.optionals,u=>(a(),b(l,{key:u.id,assignment:u},null,8,["assignment"]))),128)}var Pe=g(Be,[["render",Le]]);const Ie={name:"Replacing",props:{replaces:Object,replacing:Object},computed:S(k({},R(["isReplacing"])),{replacer:{get(){return this.$store.getters.isReplacing(this.replacing,this.replaces)},set(e){this.$store.commit("setReplacer",{replaces:this.replaces,replacing:this.replacing,turnedOn:e})}}})},Me=["id"],We=["for"],Ne=r("br",null,null,-1);function De(e,t,s,i,o,n){return a(),c(y,null,[C(r("input",{type:"checkbox",id:s.replaces.id+"-"+s.replacing.id,"onUpdate:modelValue":t[0]||(t[0]=l=>n.replacer=l)},null,8,Me),[[O,n.replacer]]),r("label",{for:s.replaces.id+"-"+s.replacing.id},d(s.replacing.shortname),9,We),Ne],64)}var Ke=g(Ie,[["render",De]]);const Ue={name:"Replacings",components:{Replacing:Ke},computed:{replacers(){return this.$store.getters.allReplacing}}};function He(e,t,s,i,o,n){const l=m("Replacing");return a(!0),c(y,null,T(n.replacers,u=>(a(),b(l,{key:u.replaces.id+"-"+u.replacing.id,replaces:u.replaces,replacing:u.replacing},null,8,["replaces","replacing"]))),128)}var ze=g(Ue,[["render",He]]);const qe={name:"Settings",components:{ToggleButton:Ce,Optionals:Pe,Replacings:ze},computed:S(k({},R(["showResults"])),{mode:{get(){return this.$store.state.settings.mode},set(e){this.$store.commit("setMode",e)}},scale:{get(){return this.$store.state.settings.scale},set(e){this.$store.commit("setScale",Number(e))}},round:{get(){return this.$store.state.settings.round},set(e){this.$store.commit("setRound",e)}},showCE:{get(){return this.$store.state.settings.showCE},set(e){this.$store.commit("setShowCE",e)}}}),methods:S(k({},fe(["setRound"])),{clearAll(){confirm("Weet je zeker dat je alle resultaten wilt wissen?")&&this.$store.commit("clearAll")}}),created(){this.modi=oe}},Ge={class:"settings"},Fe=r("hr",null,null,-1),Je=r("hr",null,null,-1),Qe=r("hr",null,null,-1),Xe=r("label",{for:"show-ce",title:"Toon centrale examens"},"Centrale Examens",-1),Ye=r("hr",{class:"left"},null,-1),Ze=r("input",{placeholder:"Importeer resultaten",title:"Plak hier je magister resultaten"},null,-1),et=r("a",{class:"import-btn",href:"import.html",title:"Voor als je een beetje hulp nodig hebt bij het importeren van je magister cijfers"}," help me ",-1),tt=r("hr",null,null,-1),st=["min","max","step"],nt=r("datalist",{id:"tickmarks"},[r("option",{value:"1.0"})],-1);function lt(e,t,s,i,o,n){const l=m("ToggleButton"),u=m("Optionals"),_=m("Replacings");return a(),c("div",Ge,[f(l,{values:e.modi,modelValue:n.mode,"onUpdate:modelValue":t[0]||(t[0]=h=>n.mode=h),style:{"font-weight":"700"}},null,8,["values","modelValue"]),Fe,f(u),Je,f(_),Qe,C(r("input",{type:"checkbox",id:"show-ce","onUpdate:modelValue":t[1]||(t[1]=h=>n.showCE=h)},null,512),[[O,n.showCE]]),Xe,Ye,e.showResults?(a(),c(y,{key:0},[r("input",{type:"button",value:"ALLE RESULTATEN WISSEN",onClick:t[2]||(t[2]=(...h)=>n.clearAll&&n.clearAll(...h))}),Ze,et,tt],64)):p("",!0),C(r("input",{type:"range","onUpdate:modelValue":t[3]||(t[3]=h=>n.scale=h),min:.7,max:1.3,step:.05,list:"tickmarks",title:"Stel de grootte van de tabel in"},null,8,st),[[Y,n.scale]]),nt,C(r("input",{type:"checkbox","onUpdate:modelValue":t[4]||(t[4]=h=>n.round=h),title:"Schakel tussen ronde en rechthoekige opdrachten"},null,512),[[O,n.round]])])}var it=g(qe,[["render",lt]]);const rt={name:"ListHeader",props:{selectionType:String},computed:{batchSelectionSymbol(){if(this.selectionType==v.All)return"check_box";if(this.selectionType==v.None)return"check_box_outline_blank";if(this.selectionType==v.Some)return"indeterminate_check_box"}},methods:{batchSelect(){this.selectionType==v.All?this.$emit("set-all-toggle",!1):this.selectionType==v.Some?this.$emit("set-all-toggle",!1):this.selectionType==v.None&&this.$emit("set-all-toggle",!0)}}},ot={class:"header-row"},at=r("th",null,"Vak",-1),ut=r("th",null,"Soort",-1),ct=r("th",{title:"Leerjaar en periode"},"Periode",-1),dt=r("th",null,"Beschrijving",-1),_t=r("th",{title:"Weging eindcijfer"},"Weging",-1),mt=r("th",null,"Cijfer",-1);function gt(e,t,s,i,o,n){return a(),c("thead",null,[r("tr",ot,[r("th",null,[r("span",{class:"material-symbols-outlined clickable unselectable",onClick:t[0]||(t[0]=(...l)=>n.batchSelect&&n.batchSelect(...l))},d(n.batchSelectionSymbol),1)]),at,ut,ct,dt,_t,mt])])}var ht=g(rt,[["render",gt]]);const pt={name:"ListRow",props:{assignment:Object,selectedAssignments:Array,selectionType:String},computed:S(k({},R(["totalWeight"])),{result(){return this.$store.getters.result(this.assignment,!1)||"-"},formattedPeriod(){return this.assignment.period!==void 0&&this.assignment.year!==void 0?`J${this.assignment.year}P${this.assignment.period}`:"-"},selected(){return this.selectedAssignments.some(e=>e.id===this.assignment.id)}}),data(){return{subject_fullname:null,subject_shortname:null}},methods:{nl_num:A,toggleSelected(){this.$emit("set-toggle",this.selectionType!=v.All&&(this.selectionType==v.None||!this.selected),this.assignment)}},created(){let e=ae(t=>t.type==="VAK",this.assignment);this.subject_fullname=(e==null?void 0:e.fullname)||"-",this.subject_shortname=(e==null?void 0:e.shortname)||"-"}},ft=["checked"],yt=["title"],vt=["title"],bt={class:"fixed-table"},kt={class:"ellipsis"};function wt(e,t,s,i,o,n){return a(),c("tr",{onClick:t[0]||(t[0]=(...l)=>n.toggleSelected&&n.toggleSelected(...l)),class:M({"content-row":!0,"selected-row":n.selected})},[r("td",null,[r("input",{type:"checkbox",checked:n.selected},null,8,ft)]),r("td",{title:o.subject_fullname},d(o.subject_shortname),9,yt),r("td",null,d(s.assignment.type),1),r("td",null,d(n.formattedPeriod),1),r("td",{title:s.assignment.description,class:"big-cell"},[r("div",bt,[r("div",kt,d(s.assignment.description),1)])],8,vt),r("td",null,d(n.nl_num(e.totalWeight(s.assignment)*100,void 0,4)+"%"),1),r("td",null,d(n.nl_num(n.result)),1)],2)}var $t=g(pt,[["render",wt]]);const Rt={name:"ListTotal",props:{selectedAssignments:Array,selectionType:String},computed:{sumWeights(){let e=0;for(let t of this.selectedAssignments)e+=this.$store.getters.totalWeight(t);return e},averageResult(){let e=0,t=0;for(let s of this.selectedAssignments){let i=this.$store.getters.result(s);if(console.log(i),i!==void 0){let o=this.$store.getters.totalWeight(s);e+=i*o,t+=o}}if(t!==0)return e/t}},methods:{nl_num:A}},At={class:"total-row"},St={colspan:"7"},Ct={class:"list-summary"},Et=w(" Aantal geselecteerd: "),Tt=w(" Som wegingen: "),jt=w(" Gemiddeld cijfer: "),Ot=["title"];function xt(e,t,s,i,o,n){return C((a(),c("tr",At,[r("td",St,[r("div",Ct,[r("span",null,[Et,r("b",null,d(s.selectedAssignments.length),1)]),r("span",null,[Tt,r("b",null,d(n.nl_num(n.sumWeights*100,void 0,4)+"%"),1)]),r("span",null,[jt,r("b",{title:n.nl_num(n.averageResult)},d(n.nl_num(n.averageResult,1)),9,Ot)])])])],512)),[[ye,s.selectionType!=="none"]])}var Vt=g(Rt,[["render",xt]]);const W={name:"ListView",computed:S(k({},R(["assignments"])),{roundness(){return this.$store.state.settings.round?"1.5em":"0"}}),data(){return{selectedAssignments:[],selectionType:v.None}},methods:{setToggle(e,t){if(e)this.selectionType===v.None&&(this.selectionType=v.Some),this.selectedAssignments.push(t);else if(this.removeSelectedAssignment(t),this.selectedAssignments.length===0){this.selectionType=v.None;return}this.selectionType=v.Some},removeSelectedAssignment(e){this.selectedAssignments=this.selectedAssignments.filter(t=>t.id!=e.id)},setAllToggle(e){e?(this.selectionType=v.All,this.selectedAssignments=this.assignments):(this.selectionType=v.None,this.selectedAssignments=[])}},watch:{assignments(){this.selectedAssignments=[],this.selectionType=v.None}},components:{ListHeader:ht,ListTotal:Vt,ListRow:$t}},G=()=>{Z(e=>({"3dec616e":e.roundness}))},F=W.setup;W.setup=F?(e,t)=>(G(),F(e,t)):G;const Bt=W,Lt={class:"listview"};function Pt(e,t,s,i,o,n){const l=m("ListHeader"),u=m("ListTotal"),_=m("ListRow");return a(),c("table",Lt,[f(l,{selectionType:o.selectionType,onSetAllToggle:n.setAllToggle},null,8,["selectionType","onSetAllToggle"]),r("tbody",null,[f(u,{selectionType:o.selectionType,selectedAssignments:o.selectedAssignments},null,8,["selectionType","selectedAssignments"]),(a(!0),c(y,null,T(e.assignments,h=>(a(),b(_,{assignment:h,selectionType:o.selectionType,selectedAssignments:o.selectedAssignments,key:h.id,onSetToggle:n.setToggle},null,8,["assignment","selectionType","selectedAssignments","onSetToggle"]))),128))])])}var It=g(Bt,[["render",Pt]]);const Mt={name:"BlocksHeader",props:{showResults:Boolean,showCE:Boolean}},Wt=r("th",{class:"small-row"},"Vak",-1),Nt=r("th",null,"SE Opdrachten",-1),Dt={key:0,class:"small-row"},Kt={key:1},Ut={key:2,class:"small-row"},Ht={key:3,class:"small-row"};function zt(e,t,s,i,o,n){return a(),c(y,null,[Wt,Nt,s.showResults?(a(),c("th",Dt,"SE")):p("",!0),s.showCE?(a(),c("th",Kt,"Centraal Examen")):p("",!0),s.showResults&&s.showCE?(a(),c("th",Ut,"CE")):p("",!0),s.showResults?(a(),c("th",Ht,"Eind.")):p("",!0)],64)}var qt=g(Mt,[["render",zt]]);const Gt="modulepreload",J={},Ft="/",Jt=function(t,s){return!s||s.length===0?t():Promise.all(s.map(i=>{if(i=`${Ft}${i}`,i in J)return;J[i]=!0;const o=i.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${n}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":Gt,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,_)=>{l.addEventListener("load",u),l.addEventListener("error",_)})})).then(()=>t())},Qt={name:"AssignmentBlock",props:{assignment:Object,widthPercentage:Number,hoveredId:String,clickedId:String},components:{AssignmentBlocks:ve(()=>Jt(()=>Promise.resolve().then(function(){return ss}),void 0))},computed:S(k({},x(["hovered","clicked"])),{background(){const e=this.$store.state.results[this.assignment.id],t=this.assignment.type;if(this.$store.getters.showResults&&e!==void 0){const s=(this.$store.getters.result(this.assignment)-1)/9*100;return`border-box linear-gradient(0deg,                         var(--${t}-color-dark) 0%,                         var(--${t}-color-dark) ${s}%,                         var(--${t}-color) ${s}%,                         var(--${t}-color) 100%)`}else return`var(--${t}-color)`},sub_assignments(){return I(this.assignment)}}),methods:{onOver(){this.$store.commit("hover",this.assignment)},onLeave(){this.$store.commit("hover",null)},onClick(){this.$store.commit("click",this.assignment)}}};function Xt(e,t,s,i,o,n){const l=m("AssignmentBlocks");return a(),c("div",{class:M(["assignment-block",e.hovered&&e.hovered.id===s.assignment.id?"hovered-block":null,e.clicked&&e.clicked.id===s.assignment.id?"selected-block":null]),style:V({width:s.widthPercentage+"%",background:n.background}),onMouseover:t[0]||(t[0]=P(u=>n.onOver(),["stop"])),onMouseout:t[1]||(t[1]=P(u=>n.onLeave(),["stop"])),onClick:t[2]||(t[2]=P(u=>n.onClick(),["stop"]))},[n.sub_assignments?(a(),b(l,{key:0,assignments:n.sub_assignments},null,8,["assignments"])):p("",!0)],38)}var Yt=g(Qt,[["render",Xt]]);const Zt={name:"AssignmentBlocks",props:{assignments:Array},components:{AssignmentBlock:Yt},computed:{totalSubweight(){let e=0;for(const t of this.assignments)e+=t.weight;return e}}},es={class:"assignment-block group-block"};function ts(e,t,s,i,o,n){const l=m("AssignmentBlock");return a(),c("div",es,[(a(!0),c(y,null,T(s.assignments,u=>(a(),b(l,{key:u.id,assignment:u,widthPercentage:u.weight/n.totalSubweight*100},null,8,["assignment","widthPercentage"]))),128))])}var ee=g(Zt,[["render",ts]]),ss=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ee});const ns={name:"BlocksRow",props:{grade:Object,showResults:Boolean,showCE:Boolean},components:{AssignmentBlocks:ee},computed:{se_assignments(){return this.grade.type==="VAK"?this.grade.se_assignments:this.grade.assignments},ce_assignments(){return this.grade.type==="VAK"?this.grade.ce_assignments:[]},result(){return A(this.$store.getters.result(this.grade,!0),0)},unRoundedResult(){return A(this.$store.getters.result(this.grade,!1))},SEresult(){return A(this.$store.getters.result(this.grade,!0,!0,!1),this.grade.ce_assignments?1:0)},unRoundedSEresult(){return A(this.$store.getters.result(this.grade,!1,!0,!1))},CEresult(){return this.grade.type!=="VAK"||!this.grade.ce_assignments?"nvt":A(this.$store.getters.result(this.grade,!0,!1,!0),1)},unRoundedCEresult(){return this.grade.type!=="VAK"||!this.grade.ce_assignments?null:A(this.$store.getters.result(this.grade,!1,!1,!0))}}},ls={class:"grade-row"},is={class:"blocks-column"},rs=["title"],os={key:1,class:"blocks-column"},as=["title"],us=["title"];function cs(e,t,s,i,o,n){const l=m("AssignmentBlocks");return a(),c("tr",ls,[r("td",null,d(s.grade.shortname),1),r("td",is,[f(l,{assignments:n.se_assignments},null,8,["assignments"])]),s.showResults?(a(),c("td",{key:0,title:n.unRoundedSEresult},d(n.SEresult),9,rs)):p("",!0),s.showCE?(a(),c("td",os,[n.ce_assignments?(a(),b(l,{key:0,assignments:n.ce_assignments},null,8,["assignments"])):p("",!0)])):p("",!0),s.showResults&&s.showCE?(a(),c("td",{key:2,title:n.unRoundedCEresult},d(n.CEresult),9,as)):p("",!0),s.showResults?(a(),c("td",{key:3,title:n.unRoundedResult},d(n.result),9,us)):p("",!0)])}var ds=g(ns,[["render",cs]]);const _s={name:"TotalRow",props:{showCE:Boolean},computed:R(["min","max","median","avg"]),methods:{nl_num:A}},ms=r("tr",null,[r("td",{colspan:"6"},[r("hr",{class:"tot-sep"})])],-1),gs=r("td",{colspan:"2"},[r("div",{style:{display:"flex"}},[r("div",null,"Totaal:")])],-1),hs=["title"],ps={key:0},fs=["title"],ys=["title"];function vs(e,t,s,i,o,n){return a(),c(y,null,[ms,r("tr",null,[gs,r("td",{title:n.nl_num(e.avg(!1,!0,!1))},d(n.nl_num(e.avg(!0,!0,!1),1)),9,hs),s.showCE?(a(),c("td",ps)):p("",!0),s.showCE?(a(),c("td",{key:1,title:n.nl_num(e.avg(!1,!1,!0))},d(n.nl_num(e.avg(!0,!1,!0),1)),9,fs)):p("",!0),r("td",{title:n.nl_num(e.avg(!1))},d(n.nl_num(e.avg(!0),1)),9,ys)])],64)}var bs=g(_s,[["render",vs]]);const ks={name:"Overview",components:{BlocksHeader:qt,BlocksRow:ds,TotalRow:bs},computed:k(k({},R(["subjects","showResults"])),x({showCE:e=>e.settings.showCE}))},ws={class:"overview"};function $s(e,t,s,i,o,n){const l=m("BlocksHeader"),u=m("BlocksRow"),_=m("TotalRow");return a(),c("table",ws,[f(l,{showCE:e.showCE,showResults:e.showResults},null,8,["showCE","showResults"]),(a(!0),c(y,null,T(e.subjects,h=>(a(),b(u,{key:h.id,grade:h,showCE:e.showCE,showResults:e.showResults},null,8,["grade","showCE","showResults"]))),128)),e.showResults?(a(),b(_,{key:0,showCE:e.showCE},null,8,["showCE"])):p("",!0)])}var Rs=g(ks,[["render",$s]]);const As={props:{},computed:R(["types"])},Ss=r("div",{class:"heading"},"LEGENDA",-1);function Cs(e,t,s,i,o,n){return a(),c(y,null,[Ss,(a(!0),c(y,null,T(e.types,l=>(a(),c("div",{key:l,class:"legend-item",style:V({background:`var(--${l}-color)`})},d(l),5))),128))],64)}var Es=g(As,[["render",Cs]]);const Ts={name:"AssignmentProp",props:{key_:String,style:Object},methods:{toString}},js={class:"info-key"},Os=r("br",null,null,-1);function xs(e,t,s,i,o,n){return a(),c(y,null,[r("span",js,d(s.key_)+": ",1),r("span",{class:"info-value",style:V(s.style)},[be(e.$slots,"default")],4),Os],64)}var Vs=g(Ts,[["render",xs]]);const Bs={props:{assignment:Object},computed:R(["subjectWeight","totalWeight"]),methods:{nl_num:A},components:{AssignmentProp:Vs}},Ls=["href"];function Ps(e,t,s,i,o,n){const l=m("AssignmentProp");return a(),c(y,null,[f(l,{key_:"soort",style:V({background:`var(--${s.assignment.type}-color)`,padding:"0 .25em"})},{default:$(()=>[w(d(s.assignment.type),1)]),_:1},8,["style"]),["VAK","COMB"].includes(s.assignment.type)?(a(),b(l,{key:0,key_:"naam"},{default:$(()=>[w(d(s.assignment.fullname),1)]),_:1})):p("",!0),f(l,{key_:"weging per cijfer"},{default:$(()=>[w(d(n.nl_num(e.subjectWeight(s.assignment)*100,void 0,4)+"%"),1)]),_:1}),f(l,{key_:"weging diplomacijfer"},{default:$(()=>[w(d(n.nl_num(e.totalWeight(s.assignment)*100,void 0,4)+"%"),1)]),_:1}),s.assignment.weight?(a(),b(l,{key:1,key_:"weging"},{default:$(()=>[w(d(n.nl_num(s.assignment.weight)),1)]),_:1})):p("",!0),["PO","MET","SET"].includes(s.assignment.type)?(a(),c(y,{key:2},[f(l,{key_:"leerjaar"},{default:$(()=>[w(d(s.assignment.year),1)]),_:1}),f(l,{key_:"periode"},{default:$(()=>[w(d(s.assignment.period),1)]),_:1}),s.assignment.magister?(a(),b(l,{key:0,key_:"magister"},{default:$(()=>[w(d(s.assignment.magister),1)]),_:1})):p("",!0),"domains"in s.assignment?(a(),b(l,{key:1,key_:"domeinen"},{default:$(()=>[w(d(s.assignment.domains.join(", ")),1)]),_:1})):p("",!0),f(l,{key_:"beschrijving",style:{whiteSpace:"pre-wrap"}},{default:$(()=>[w(d(s.assignment.description),1)]),_:1})],64)):p("",!0),s.assignment.link?(a(),b(l,{key:3,key_:"link"},{default:$(()=>[r("a",{href:s.assignment.link,target:"_blank"},d(s.assignment.link),9,Ls)]),_:1})):p("",!0)],64)}var Is=g(Bs,[["render",Ps]]);const Ms={name:"ResultInput",props:{assignment:Object},data(){return{result:void 0}},computed:{subAssignmentResult(){return this.canInput?null:this.$store.getters.result(this.assignment,!1)},assignmentResult(){return this.$store.getters.result(this.assignment)},canInput(){return["SET","MET","PO","CSE"].includes(this.assignment.type)}},methods:{clearResult(){this.$store.commit("setResult",{assignment:this.assignment})},submitResult(){this.$store.commit("setResult",{assignment:this.assignment,result:this.result})},updateResult(){this.result=this.$store.getters.result(this.assignment,!0)}},watch:{assignmentResult(){this.updateResult()}},created(){this.updateResult()}},Ws=w(" Resultaat: "),Ns=r("br",null,null,-1),Ds=["disabled","title"],Ks=["disabled"],Us=["disabled"];function Hs(e,t,s,i,o,n){return a(),c("label",null,[Ws,Ns,C(r("input",{type:"number",min:"1",step:"0.1","onUpdate:modelValue":t[0]||(t[0]=l=>o.result=l),onKeyup:t[1]||(t[1]=ke((...l)=>n.submitResult&&n.submitResult(...l),["enter"])),disabled:!n.canInput,title:n.subAssignmentResult,required:""},null,40,Ds),[[Y,o.result]]),r("input",{type:"button",value:"invullen",disabled:!n.canInput,onClick:t[2]||(t[2]=(...l)=>n.submitResult&&n.submitResult(...l))},null,8,Ks),r("input",{type:"button",value:"wissen",disabled:!n.canInput,onClick:t[3]||(t[3]=(...l)=>n.clearResult&&n.clearResult(...l))},null,8,Us)])}var zs=g(Ms,[["render",Hs]]);const qs={name:"Info",props:{assignment:Object},components:{Legend:Es,AssignmentProps:Is,ResultInput:zs},computed:R(["showResults"])},Gs={key:1},Fs={key:0,class:"result-input"},Js=r("br",null,null,-1);function Qs(e,t,s,i,o,n){const l=m("Legend"),u=m("AssignmentProps"),_=m("ResultInput");return a(),c("div",{class:M(["info",s.assignment?"info-props":"info-legend"])},[s.assignment?(a(),c("div",Gs,[f(u,{assignment:s.assignment},null,8,["assignment"]),e.showResults?(a(),c("div",Fs,[Js,f(_,{assignment:s.assignment},null,8,["assignment"])])):p("",!0)])):(a(),b(l,{key:0}))],2)}var Xs=g(qs,[["render",Qs]]);const Ys={name:"Content",components:{ListView:It,Overview:Rs,Info:Xs},computed:k(k({},R(["focussed"])),x({mode:e=>e.settings.mode}))},Zs={class:"content-outer"},en={class:"content"};function tn(e,t,s,i,o,n){const l=m("ListView"),u=m("Overview"),_=m("Info");return a(),c("div",Zs,[r("div",en,[e.mode=="list"?(a(),b(l,{key:0})):(a(),c(y,{key:1},[f(u),f(_,{assignment:e.focussed},null,8,["assignment"])],64))])])}var sn=g(Ys,[["render",tn]]);const N={name:"App",components:{Settings:it,Content:sn,Errors:ue},computed:S(k({},x(["settings","results"])),{roundness(){return this.$store.state.settings.round?"2em":"0"}}),data(){return{errors:[]}},methods:{onPaste(e){console.log("onPaste",e),e.preventDefault();try{let t=ce(e.clipboardData.getData("text/html"),i=>{this.errors.push(i)}),s=k({},j("results",{}));for(const i of t)s[i.assignment.id]=i.score;this.$store.state.results=j("results",s)}catch(t){console.error(t),this.errors.push(t);return}}},watch:{settings:{handler(){q("settings",this.$store.state.settings)},deep:!0},results:{handler(){q("results",this.$store.state.results)},deep:!0}},created(){console.log(this.$store.state),window.gen_id=de},errorCaptured(e,t,s){this.errors.push(e)}},Q=()=>{Z(e=>({"20bec446":e.settings.scale,"3b509807":e.roundness}))},X=N.setup;N.setup=X?(e,t)=>(Q(),X(e,t)):Q;const nn=N;function ln(e,t,s,i,o,n){const l=m("Errors"),u=m("Settings"),_=m("Content");return a(),c(y,null,[f(l,{errors:o.errors},null,8,["errors"]),f(u,{onPaste:n.onPaste},null,8,["onPaste"]),f(_)],64)}var rn=g(nn,[["render",ln]]);const on=we({state:{diploma:_e(he),hovered:null,clicked:null,settings:j("settings",{mode:"results",extra:[],replacing:[],showCE:!0,round:!1,scale:1}),results:j("results",{})},getters:{subjects(e){let t=[];for(const s of e.diploma.grades)s.optional&&!e.settings.extra.includes(s.id)||e.settings.replacing.some(i=>i.startsWith(s.id))||s.replaces&&!e.settings.replacing.some(i=>i.endsWith(s.id))||t.push(s);return t},assignments:(e,t)=>me(i=>["VAK","COMB"].includes(i.type)?!1:!(!e.settings.showCE&&i.type==="CSE"),t.subjects),showResults(e){switch(e.settings.mode){case"results":case"list":return!0;case"plan":return!1}},focussed(e){return e.clicked!==null?e.clicked:e.hovered},types(e,t){const s={};function i(o){o.type in s||(s[o.type]=0),s[o.type]++;const n=I(o);if(n)for(const l of n)i(l)}for(const o of t.subjects){const n=I(o);for(const l of n)i(l)}return new Map([...Object.entries(s)].sort((o,n)=>n[1]-o[1])).keys()},allOptional(e){let t=[];for(const s of e.diploma.grades)s.optional&&t.push(s);return t},allReplacing(e){let t=[];for(const s of e.diploma.grades)s.replaces&&t.push({replaces:ge(s.replaces),replacing:s});return t},isOptional:e=>t=>e.settings.extra.includes(t.id),isReplacing:e=>(t,s)=>e.settings.replacing.includes(s.id+"-"+t.id),result:(e,t)=>(s,i=!0,o=!1,n=!1)=>{function l(h){let E=0,B=0,D;for(const L of h){let K=t.result(L,i);if(K===void 0)continue;const U=L.weight/L.parent.total_subweight;E+=K*U,B+=U}return B>0&&(D=E/B),D}let u,_;if(s.id in e.results)u=e.results[s.id],_=1;else if(s.type==="DIPLOMA")u=l(s.grades),_=0;else if(s.type==="COMB")n||(u=l(s.assignments,i&&s.parent.type==="DIPLOMA"?0:null)),_=0;else if(s.type==="VAK")if(o||n)o&&(_=s.ce_assignments?1:0,u=l(s.se_assignments)),n&&(_=1,u=l(s.ce_assignments));else{_=0;const h=s.se_assignments&&t.result(s,i,!0,!1),E=s.ce_assignments&&t.result(s,i,!1,!0);s.ce_assignments?u=h!==void 0&&E!==void 0?(h+E)/2:h||E:u=h}return s.parent&&s.parent.type==="COMB"&&s.parent.parent.type==="DIPLOMA"&&(_=0),i&&u!==void 0&&(u=pe(u,_)),u},avg:(e,t)=>(s=!1,i=!1,o=!1)=>{let n=0,l=0;for(const u of t.subjects){if(o&&u.ce_assignments===void 0)continue;const _=t.result(u,s,i,o);_&&(n+=_,l++)}if(l){const u=n/l;return s?Math.round((u+Number.EPSILON)*10)/10:u}},min:(e,t)=>(s=!1)=>{let i=1/0;for(const o of t.subjects){const n=t.result(o,s);n<i&&(i=n)}if(i<1/0)return i},max:(e,t)=>(s=!1)=>{let i=-1/0;for(const o of t.subjects){const n=t.result(o,s);n>i&&(i=n)}if(i>-1/0)return i},median:(e,t)=>(s=!1)=>{let i=[];for(const n of t.subjects){const l=t.result(n,s);l&&i.push(l)}if(i.length===0)return;i.sort((n,l)=>n-l);let o=Math.floor(i.length/2);return i.length%2?i[o]:(i[o]+i[o+1])/2},subjectWeight:e=>t=>{if(!t.parent)return;if(t.type==="CSE")return .5;let s=t.weight;do t=t.parent,s/=t.total_subweight*(t.ce_assignments?2:1);while(t.parent.parent);return s},totalWeight:(e,t)=>s=>t.subjectWeight(s)/t.subjects.length},mutations:{setRound(e,t){console.log("round",t),e.settings.round=t},setScale(e,t){console.log("scale",t),e.settings.scale=t},setShowCE(e,t){console.log("show CE",t),e.settings.showCE=t},setMode(e,t){console.log("mode",t),e.settings.mode=t},hover(e,t){e.hovered=t},click(e,t){e.clicked=e.clicked===t?null:t},setOptional(e,{assignment:t,turnedOn:s}){s&&!e.settings.extra.includes(t.id)&&e.settings.extra.push(t.id),s||(e.settings.extra=e.settings.extra.filter(i=>i!==t.id))},setReplacer(e,{replaces:t,replacing:s,turnedOn:i}){let o=t.id+"-"+s.id;i&&!e.settings.replacing.includes(o)&&e.settings.replacing.push(o),i||(e.settings.replacing=e.settings.replacing.filter(n=>n!==o))},setResult(e,{assignment:t,result:s}){e.results[t.id]=s},clearAll(e){e.results={}}}}),te=$e(rn);te.use(on);te.mount("#app");
