var D=Object.defineProperty,z=Object.defineProperties;var q=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var C=(t,e,s)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,k=(t,e)=>{for(var s in e||(e={}))G.call(e,s)&&C(t,s,e[s]);if(B)for(var s of B(e))F.call(e,s)&&C(t,s,e[s]);return t},b=(t,e)=>z(t,q(e));import{_,m as K,n as S,s as I,g as J,p as Q,l as P,d as X,a as Y}from"./utils.748744f9.js";import{c,o as a,m as v,w,v as x,a as r,t as h,F as p,r as R,b as d,d as y,e as Z,f as m,g as $,h as M,i as ee,j as N,n as W,k as j,l as A,p as O,u as te,q as se,s as ne}from"./vendor.98a6ace6.js";const le={name:"ToggleButton",props:{values:Object,modelValue:String},computed:{UIValue(){return this.values[this.modelValue]}},methods:{nextValue(){const t=Object.keys(this.values),e=t[(t.indexOf(this.modelValue)+1)%t.length];this.$emit("update:modelValue",e)}}},oe=["value"];function ie(t,e,s,l,i,n){return a(),c("input",{type:"button",value:n.UIValue,onClick:e[0]||(e[0]=(...o)=>n.nextValue&&n.nextValue(...o))},null,8,oe)}var re=_(le,[["render",ie]]);const ae={name:"Optional",props:{assignment:Object},computed:b(k({},v(["isOptional"])),{optional:{get(){return this.$store.getters.isOptional(this.assignment)},set(t){this.$store.commit("setOptional",{assignment:this.assignment,turnedOn:t})}}})},ue=["id"],ce=["for"],de=r("br",null,null,-1);function _e(t,e,s,l,i,n){return a(),c(p,null,[w(r("input",{type:"checkbox",id:s.assignment.id,"onUpdate:modelValue":e[0]||(e[0]=o=>n.optional=o)},null,8,ue),[[x,n.optional]]),r("label",{for:s.assignment.id},h(s.assignment.shortname),9,ce),de],64)}var me=_(ae,[["render",_e]]);const ge={name:"Optionalas",components:{Optional:me},computed:{optionals(){return this.$store.getters.allOptional}}};function pe(t,e,s,l,i,n){const o=d("Optional");return a(!0),c(p,null,R(n.optionals,u=>(a(),y(o,{key:u.id,assignment:u},null,8,["assignment"]))),128)}var he=_(ge,[["render",pe]]);const fe={name:"Replacing",props:{replaces:Object,replacing:Object},computed:b(k({},v(["isReplacing"])),{replacer:{get(){return this.$store.getters.isReplacing(this.replacing,this.replaces)},set(t){this.$store.commit("setReplacer",{replaces:this.replaces,replacing:this.replacing,turnedOn:t})}}})},ve=["id"],$e=["for"],ye=r("br",null,null,-1);function ke(t,e,s,l,i,n){return a(),c(p,null,[w(r("input",{type:"checkbox",id:s.replaces.id+"-"+s.replacing.id,"onUpdate:modelValue":e[0]||(e[0]=o=>n.replacer=o)},null,8,ve),[[x,n.replacer]]),r("label",{for:s.replaces.id+"-"+s.replacing.id},h(s.replacing.shortname),9,$e),ye],64)}var be=_(fe,[["render",ke]]);const we={name:"Replacings",components:{Replacing:be},computed:{replacers(){return this.$store.getters.allReplacing}}};function Re(t,e,s,l,i,n){const o=d("Replacing");return a(!0),c(p,null,R(n.replacers,u=>(a(),y(o,{key:u.replaces.id+"-"+u.replacing.id,replaces:u.replaces,replacing:u.replacing},null,8,["replaces","replacing"]))),128)}var Oe=_(we,[["render",Re]]);const je={name:"Settings",components:{ToggleButton:re,Optionals:he,Replacings:Oe},computed:b(k({},v(["showResults"])),{mode:{get(){return this.$store.state.mode},set(t){this.$store.commit("setMode",t)}},scale:{get(){return this.$store.state.settings.scale},set(t){this.$store.commit("setScale",Number(t))}},round:{get(){return this.$store.state.settings.round},set(t){this.$store.commit("setRound",t)}}}),methods:b(k({},Z(["setRound"])),{clearAll(){confirm("Weet je zeker dat je alle resultaten wilt wissen?")&&this.$store.commit("clearAll")}}),created(){this.modi=K}},Ae={class:"settings"},Se=r("hr",null,null,-1),xe=r("hr",null,null,-1),Ve=r("hr",{class:"left"},null,-1),Be=["min","max","step"],Ce=r("datalist",{id:"tickmarks"},[r("option",{value:"1.0"})],-1);function Ie(t,e,s,l,i,n){const o=d("ToggleButton"),u=d("Optionals"),f=d("Replacings");return a(),c("div",Ae,[m(o,{values:t.modi,modelValue:n.mode,"onUpdate:modelValue":e[0]||(e[0]=g=>n.mode=g),style:{"font-weight":"700"}},null,8,["values","modelValue"]),t.showResults?(a(),c("input",{key:0,type:"button",value:"ALLE RESULTATEN WISSEN",onClick:e[1]||(e[1]=(...g)=>n.clearAll&&n.clearAll(...g))})):$("",!0),Se,m(u),xe,m(f),Ve,w(r("input",{type:"range","onUpdate:modelValue":e[2]||(e[2]=g=>n.scale=g),min:.5,max:1.5,step:.1,list:"tickmarks",title:"Stel de grootte van de tabel in"},null,8,Be),[[M,n.scale]]),Ce,w(r("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=g=>n.round=g),title:"Schakel tussen ronde en rechthoekige opdrachten"},null,512),[[x,n.round]])])}var Pe=_(je,[["render",Ie]]);const Te={name:"Header",props:{showResults:Boolean}},Ee=r("th",{class:"small-row"},"VAK",-1),Le=r("th",null,"OPDRACHTEN",-1),Me={key:0,class:"small-row"};function Ne(t,e,s,l,i,n){return a(),c(p,null,[Ee,Le,s.showResults?(a(),c("th",Me,"GEM.")):$("",!0)],64)}var We=_(Te,[["render",Ne]]);const Ue="modulepreload",T={},He="/",De=function(e,s){return!s||s.length===0?e():Promise.all(s.map(l=>{if(l=`${He}${l}`,l in T)return;T[l]=!0;const i=l.endsWith(".css"),n=i?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${n}`))return;const o=document.createElement("link");if(o.rel=i?"stylesheet":Ue,i||(o.as="script",o.crossOrigin=""),o.href=l,document.head.appendChild(o),i)return new Promise((u,f)=>{o.addEventListener("load",u),o.addEventListener("error",f)})})).then(()=>e())},ze={name:"AssignmentBlock",props:{assignment:Object,widthPercentage:Number,hoveredId:String,clickedId:String},components:{AssignmentBlocks:ee(()=>De(()=>Promise.resolve().then(function(){return Qe}),void 0))},computed:b(k({},N(["hovered","clicked"])),{background(){const t=this.$store.getters.result(this.assignment),e=this.assignment.type;if(t===void 0||!this.$store.getters.showResults||this.assignment.assignments)return`var(--${e}-color)`;{const s=(this.$store.getters.result(this.assignment)-1)/9*100;return`border-box linear-gradient(0deg,                         var(--${e}-color-dark) 0%,                         var(--${e}-color-dark) ${s}%,                         var(--${e}-color) ${s}%,                         var(--${e}-color) 100%)`}}}),methods:{onOver(){this.$store.commit("hover",this.assignment)},onLeave(){this.$store.commit("hover",null)},onClick(){this.$store.commit("click",this.assignment)}}};function qe(t,e,s,l,i,n){const o=d("AssignmentBlocks");return a(),c("div",{class:W(["assignment-block",t.hovered&&t.hovered.id===s.assignment.id?"hovered-block":null,t.clicked&&t.clicked.id===s.assignment.id?"selected-block":null]),style:j({width:s.widthPercentage+"%",background:n.background}),onMouseover:e[0]||(e[0]=A(u=>n.onOver(),["stop"])),onMouseout:e[1]||(e[1]=A(u=>n.onLeave(),["stop"])),onClick:e[2]||(e[2]=A(u=>n.onClick(),["stop"]))},[s.assignment.assignments?(a(),y(o,{key:0,assignments:s.assignment.assignments},null,8,["assignments"])):$("",!0)],38)}var Ge=_(ze,[["render",qe]]);const Fe={name:"AssignmentBlocks",props:{assignments:Array},components:{AssignmentBlock:Ge},data(){return{totalSubweight:0}},created(){this.totalSubweight=0;for(const t of this.assignments)this.totalSubweight+=t.weight}},Ke={class:"assignment-block group-block"};function Je(t,e,s,l,i,n){const o=d("AssignmentBlock");return a(),c("div",Ke,[(a(!0),c(p,null,R(s.assignments,u=>(a(),y(o,{key:u.id,assignment:u,widthPercentage:u.weight/i.totalSubweight*100},null,8,["assignment","widthPercentage"]))),128))])}var U=_(Fe,[["render",Je]]),Qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:U});const Xe={name:"Row",props:{assignment:Object,showResults:Boolean},components:{AssignmentBlocks:U},computed:v(["result"]),methods:{nl_num:S}},Ye={class:"blocks-column"},Ze=["title"];function et(t,e,s,l,i,n){const o=d("AssignmentBlocks");return a(),c("tr",null,[r("td",null,h(s.assignment.shortname),1),r("td",Ye,[m(o,{assignments:s.assignment.assignments},null,8,["assignments"])]),s.showResults?(a(),c("td",{key:0,title:n.nl_num(t.result(s.assignment))},h(n.nl_num(t.result(s.assignment,!0),1)),9,Ze)):$("",!0)])}var tt=_(Xe,[["render",et]]);const st={name:"TotalRow",computed:v(["min","max","median","avg"]),methods:{nl_num:S}},nt={colspan:"2"},lt=r("hr",{class:"tot-sep"},null,-1),ot={style:{display:"flex"}},it=r("div",null,"Totaal:",-1),rt={class:"stats"},at=["title"],ut=r("strong",null,"min:",-1),ct=["title"],dt=r("strong",null,"max:",-1),_t=["title"],mt=r("strong",null,"mediaan:",-1),gt={style:{display:"block"}},pt=r("hr",{class:"tot-sep"},null,-1),ht=["title"];function ft(t,e,s,l,i,n){return a(),c("tr",null,[r("td",nt,[lt,r("div",ot,[it,r("div",rt,[r("div",{title:n.nl_num(t.min(),1)},[ut,O(" "+h(n.nl_num(t.min(!0),1)),1)],8,at),r("div",{title:n.nl_num(t.max(),1)},[dt,O(" "+h(n.nl_num(t.max(!0),1)),1)],8,ct),r("div",{title:n.nl_num(t.median(),1)},[mt,O(" "+h(n.nl_num(t.median(!0),1)),1)],8,_t)])])]),r("td",gt,[pt,r("div",{title:n.nl_num(t.avg(),1)},h(n.nl_num(t.avg(!0),1)),9,ht)])])}var vt=_(st,[["render",ft]]);const $t={name:"Overview",components:{Header:We,Row:tt,TotalRow:vt},computed:v(["subjects","showResults"])},yt={class:"overview"};function kt(t,e,s,l,i,n){const o=d("Header"),u=d("Row"),f=d("TotalRow");return a(),c("table",yt,[m(o,{showResults:t.showResults},null,8,["showResults"]),(a(!0),c(p,null,R(t.subjects,g=>(a(),y(u,{key:g.id,assignment:g,showResults:t.showResults},null,8,["assignment","showResults"]))),128)),t.showResults?(a(),y(f,{key:0})):$("",!0)])}var bt=_($t,[["render",kt]]);const wt={props:{},computed:v(["types"])},Rt=r("div",{class:"heading"},"LEGENDA",-1);function Ot(t,e,s,l,i,n){return a(),c(p,null,[Rt,(a(!0),c(p,null,R(t.types,o=>(a(),c("div",{key:o,class:"legend-item",style:j({background:`var(--${o}-color)`})},h(o),5))),128))],64)}var jt=_(wt,[["render",Ot]]);const At={name:"AssignmentProp",props:{key_:String,value:null,style:Object},methods:{toString}},St={class:"info-key"},xt=r("br",null,null,-1);function Vt(t,e,s,l,i,n){return a(),c(p,null,[r("span",St,h(s.key_)+": ",1),r("span",{class:"info-value",style:j(s.style)},h(s.value.toString()),5),xt],64)}var Bt=_(At,[["render",Vt]]);const Ct={props:{assignment:Object},computed:v(["subjectWeight","totalWeight"]),methods:{nl_num:S},components:{AssignmentProp:Bt}},It={key:1};function Pt(t,e,s,l,i,n){const o=d("AssignmentProp");return a(),c(p,null,[m(o,{key_:"soort",value:s.assignment.type,style:j({background:`var(--${s.assignment.type}-color)`,padding:"0 .25em"})},null,8,["value","style"]),["VAK","COMB"].includes(s.assignment.type)?(a(),y(o,{key:0,key_:"naam",value:s.assignment.fullname},null,8,["value"])):$("",!0),m(o,{key_:"weging per cijfer",value:n.nl_num(t.subjectWeight(s.assignment)*100,void 0,4)+"%"},null,8,["value"]),m(o,{key_:"weging diplomacijfer",value:n.nl_num(t.totalWeight(s.assignment)*100,void 0,4)+"%"},null,8,["value"]),["PO","MET","SET"].includes(s.assignment.type)?(a(),c("div",It,[m(o,{key_:"leerjaar",value:s.assignment.year},null,8,["value"]),m(o,{key_:"periode",value:s.assignment.period},null,8,["value"]),"domains"in s.assignment?(a(),y(o,{key:0,key_:"domeinen",value:s.assignment.domains.join(", ")},null,8,["value"])):$("",!0),m(o,{key_:"beschrijving",value:s.assignment.description,style:{whiteSpace:"pre-wrap"}},null,8,["value"])])):$("",!0)],64)}var Tt=_(Ct,[["render",Pt]]);const Et={name:"ResultInput",props:{assignment:Object},data(){return{result:this.$store.state.results[this.assignment.id]}},methods:{clearResult(){this.$store.commit("setResult",{assignment:this.assignment})},submitResult(){this.$store.commit("setResult",{assignment:this.assignment,result:this.result})}},watch:{assignment(){this.result=this.$store.state.results[this.assignment.id]}}},Lt=O(" Resultaat: "),Mt=r("br",null,null,-1);function Nt(t,e,s,l,i,n){return a(),c("label",null,[Lt,Mt,w(r("input",{type:"number",min:"1",step:"0.1","onUpdate:modelValue":e[0]||(e[0]=o=>i.result=o),required:""},null,512),[[M,i.result]]),r("input",{type:"button",value:"invullen",onClick:e[1]||(e[1]=(...o)=>n.submitResult&&n.submitResult(...o))}),r("input",{type:"button",value:"wissen",onClick:e[2]||(e[2]=(...o)=>n.clearResult&&n.clearResult(...o))})])}var Wt=_(Et,[["render",Nt]]);const Ut={name:"Info",props:{assignment:Object},components:{Legend:jt,AssignmentProps:Tt,ResultInput:Wt},computed:v(["showResults"])},Ht={key:1},Dt={key:0,class:"result-input"},zt=r("br",null,null,-1);function qt(t,e,s,l,i,n){const o=d("Legend"),u=d("AssignmentProps"),f=d("ResultInput");return a(),c("div",{class:W(["info",s.assignment?"info-props":"info-legend"])},[s.assignment?(a(),c("div",Ht,[m(u,{assignment:s.assignment},null,8,["assignment"]),t.showResults?(a(),c("div",Dt,[zt,m(f,{assignment:s.assignment},null,8,["assignment"])])):$("",!0)])):(a(),y(o,{key:0}))],2)}var Gt=_(Ut,[["render",qt]]);const Ft={name:"Content",components:{Overview:bt,Info:Gt},computed:v(["focussed"])},Kt={class:"content"},Jt=r("a",{class:"import-btn",href:"import.html"}," Importeer cijfers van magister ",-1);function Qt(t,e,s,l,i,n){const o=d("Overview"),u=d("Info");return a(),c("div",Kt,[m(o),m(u,{assignment:t.focussed},null,8,["assignment"]),Jt])}var Xt=_(Ft,[["render",Qt]]);const V={name:"App",components:{Settings:Pe,Content:Xt},computed:b(k({},N(["settings","results"])),{roundness(){return this.settings.round?"2em":"0"}}),watch:{settings:{handler(){I("settings",this.settings)},deep:!0},results:{handler(){I("results",this.results)},deep:!0}},created(){console.log(this.$store.state),window.gen_id=J}},E=()=>{te(t=>({"198d4b34":t.roundness}))},L=V.setup;V.setup=L?(t,e)=>(E(),L(t,e)):E;const Yt=V;function Zt(t,e,s,l,i,n){const o=d("Settings"),u=d("Content");return a(),c(p,null,[m(o),m(u)],64)}var es=_(Yt,[["render",Zt]]);const ts=se({state:{grade:Q(X),mode:"results",hovered:null,clicked:null,settings:P("settings",{extra:[],replacing:[],round:!1,scale:1}),results:P("results",{})},getters:{subjects(t){let e=[];for(const s of t.grade.assignments)s.optional&&!t.settings.extra.includes(s.id)||t.settings.replacing.some(l=>l.startsWith(s.id))||s.replaces&&!t.settings.replacing.some(l=>l.endsWith(s.id))||e.push(s);return e},showResults(t){return t.mode==="results"},focussed(t){return t.clicked!==null?t.clicked:t.hovered},types(t,e){const s={};function l(i){if(i.type in s||(s[i.type]=0),s[i.type]++,i.assignments)for(const n of i.assignments)l(n)}for(const i of e.subjects)for(const n of i.assignments)l(n);return new Map([...Object.entries(s)].sort((i,n)=>n[1]-i[1])).keys()},allOptional(t){let e=[];function s(l){if(l.optional&&e.push(l),l.assignments)for(const i of l.assignments)s(i)}return s(t.grade),e},allReplacing(t){let e=[];function s(l){if(l.replaces&&e.push({replaces:Y(l.replaces),replacing:l}),l.assignments)for(const i of l.assignments)s(i)}return s(t.grade),e},isOptional:t=>e=>t.settings.extra.includes(e.id),isReplacing:t=>(e,s)=>t.settings.replacing.includes(s.id+"-"+e.id),result:(t,e)=>(s,l=!1)=>{let i;if(s.id in t.results)i=t.results[s.id];else if(s.assignments){let n=0,o=0;for(const u of s.assignments){const f=e.result(u,l);if(f===void 0)continue;const g=u.weight/u.parent.total_subweight;n+=f*g,o+=g}o>0&&(i=n/o)}return l&&i!==void 0&&(i=Math.round((i+Number.EPSILON)*10)/10),i},avg:(t,e)=>(s=!1)=>{let l=0,i=0;for(const n of e.subjects){const o=e.result(n,s);o&&(l+=o,i++)}if(i){const n=l/i;return s?Math.round((n+Number.EPSILON)*10)/10:n}},min:(t,e)=>(s=!1)=>{let l=1/0;for(const i of e.subjects){const n=e.result(i,s);n<l&&(l=n)}if(l<1/0)return l},max:(t,e)=>(s=!1)=>{let l=-1/0;for(const i of e.subjects){const n=e.result(i,s);n>l&&(l=n)}if(l>-1/0)return l},median:(t,e)=>(s=!1)=>{let l=[];for(const n of e.subjects){const o=e.result(n,s);o&&l.push(o)}if(l.length===0)return;l.sort((n,o)=>n-o);let i=Math.floor(l.length/2);return l.length%2?l[i]:(l[i]+l[i+1])/2},subjectWeight:t=>e=>{if(!e.parent)return;let s=e.weight;do e=e.parent,s/=e.total_subweight;while(e.parent.parent);return s},totalWeight:(t,e)=>s=>e.subjectWeight(s)/e.subjects.length},mutations:{setRound(t,e){console.log("round",e),t.settings.round=e},setScale(t,e){console.log("scale",e),t.settings.scale=e},setMode(t,e){console.log("mode",e),t.mode=e},hover(t,e){t.hovered=e},click(t,e){t.clicked=t.clicked===e?null:e},setOptional(t,{assignment:e,turnedOn:s}){s&&!t.settings.extra.includes(e.id)&&t.settings.extra.push(e.id),s||(t.settings.extra=t.settings.extra.filter(l=>l!==e.id))},setReplacer(t,{replaces:e,replacing:s,turnedOn:l}){let i=e.id+"-"+s.id;l&&!t.settings.replacing.includes(i)&&t.settings.replacing.push(i),l||(t.settings.replacing=t.settings.replacing.filter(n=>n!==i))},setResult(t,{assignment:e,result:s}){t.results[e.id]=s},clearAll(t){t.results={}}}}),H=ne(es);H.use(ts);H.mount("#app");
